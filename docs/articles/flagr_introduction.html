<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to flagr • flagr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to flagr">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">flagr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/flagr_introduction.html">Introduction to flagr</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/eurostat/flagr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to flagr</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/eurostat/flagr/blob/master/vignettes/flagr_introduction.Rmd"><code>vignettes/flagr_introduction.Rmd</code></a></small>
      <div class="hidden name"><code>flagr_introduction.Rmd</code></div>

    </div>

    
    
<div id="background" class="section level2">
<h2 class="hasAnchor">
<a href="#background" class="anchor"></a>Background</h2>
<p>A flag is an attribute of a cell in a data set that provides additional qualitative information about the statistical value of that cell. They can indicate, for example, that a given value is estimated, confidential or represents a break in the time series.</p>
<p>Currently different sets of flags are in use in the <a href="http://ec.europa.eu/eurostat/web/ess/about-us">European Statistical System (ESS)</a>. Some statistical domains use the SDMX code list for <a href="https://sdmx.org/wp-content/uploads/CL_OBS_STATUS_v2_1.docx">observation status</a> and <a href="https://sdmx.org/wp-content/uploads/CL_CONF_STATUS_1_2_2018.docx">confidentiality status</a>. Eurostat uses a simplified list of flags for <a href="http://ec.europa.eu/eurostat/data/database/information">dissemination</a>, and other domains apply different sets of flags defined in regulations or in other agreements.</p>
<p>While in most cases it is well defined how a flag shall be assigned to an individual value, it is not straightforward to decide what flag shall be propagated to aggregated values like a sum, an average, quintiles, etc. This topic is important for Eurostat as the European aggregates are derived from national data points. Thus the information contained in the individual flags need to be summarized in a flag for the aggregate. This issue is not unique to Eurostat, but can occur for any aggregated data. For example, a national statistical institute may derive the national aggregate from regional data sets. In addition, the dissemination process provides further peculiarity: only a limited set of flags, compared to the set of flags used in the production process, can be applied in order to make it easily understandable to the users.</p>
<p>Eurostat tested various approaches with a view to well balance transparency and clarity of the information made available to users in a flag. The resulting 3 methods are implemented in an R package for assigning a flag to an aggregate based on the underlying flags and values. Since the topic has relevance outside of Eurostat as well, it was decided to publish the respective package (<a href="https://github.com/eurostat/flagr"><em>flagr</em></a>) with a view to foster re-use within the European Statistical System and to stimulate discussion, including width the user community.</p>
</div>
<div id="the-flagr-package" class="section level2">
<h2 class="hasAnchor">
<a href="#the-flagr-package" class="anchor"></a>The <em>flagr</em> package</h2>
<p>The objective of the <em>flagr</em> package is to promote a standardised and rational approach within and across statistical domains to assign flags to an aggregate based on the flags and values of the underlying components.</p>
<p>The package was developed with minimal dependencies on other packages, keeping in mind that in many work places there can be limitations to install additional packages to the standard R installation.</p>
<p>The package contains a fictive test data set, a wrapping function (<code>propagate_flag</code>) calling the different methods and 3 methods (<code>flag_hierarchy</code>, <code>flag_frequency</code> and <code>flag_weighted</code>) to derive flags for aggregates.</p>
<div id="test-data" class="section level3">
<h3 class="hasAnchor">
<a href="#test-data" class="anchor"></a>Test data</h3>
<p>The test data is based on a Eurostat data set adding random values and flags to the original data table of <em>spr_exp_sum</em><a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>. The data has a melted structure and follows the data configuration how the data sets from the Eurostat database can be retrieved. It contains a filtered set of the last four columns of the data table retrieved by the <code>get_eurostat("spr_exp_sum",keepFlags = T)</code> command of the <em>eurostat</em> package.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/head">head</a></span>(test_data)</code></pre></div>
<pre><code>##   geo flags       time   values
## 1  AT  &lt;NA&gt; 2009-01-01  9873.04
## 2  AT  &lt;NA&gt; 2010-01-01 11229.27
## 3  AT  &lt;NA&gt; 2011-01-01 10791.54
## 4  AT    de 2012-01-01 10887.16
## 5  AT  &lt;NA&gt; 2013-01-01 11418.25
## 6  AT  &lt;NA&gt; 2014-01-01 11278.88</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/summary">summary</a></span>(test_data)</code></pre></div>
<pre><code>##      geo               flags               time          
##  Length:195         Length:195         Length:195        
##  Class :character   Class :character   Class :character  
##  Mode  :character   Mode  :character   Mode  :character  
##                                                          
##                                                          
##                                                          
##      values       
##  Min.   :  463.1  
##  1st Qu.: 3110.9  
##  Median : 5510.4  
##  Mean   : 7071.4  
##  3rd Qu.:10624.3  
##  Max.   :20875.1</code></pre>
</div>
<div id="the-methods" class="section level3">
<h3 class="hasAnchor">
<a href="#the-methods" class="anchor"></a>The methods</h3>
<ol style="list-style-type: decimal">
<li>
<code>flag_hierarchy</code> method</li>
</ol>
<p>The first method is based on the hierarchy described in the SDMX guidelines for <a href="https://sdmx.org/wp-content/uploads/CL_OBS_STATUS_implementation_20-10-2014.pdf">implementing the observation status code list</a>. The method contains two predefined hierarchy list of flags as can be seen in the table below, but it can be used with any own list of flags.</p>
<table class="table">
<caption>Predefined hierarchy of flags implemented in the <code>flag_hierarchy</code> method</caption>
<thead><tr class="header">
<th>SDMX flags</th>
<th>corresponding Eurostat flags</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>B / time series break (highest importance)</td>
<td>b</td>
</tr>
<tr class="even">
<td>O / missing value</td>
<td>:</td>
</tr>
<tr class="odd">
<td>M / missing value; data cannot exist</td>
<td>z</td>
</tr>
<tr class="even">
<td>L / missing value; data exist but were not collected</td>
<td></td>
</tr>
<tr class="odd">
<td>H / missing value; holiday or weekend</td>
<td></td>
</tr>
<tr class="even">
<td>Q / missing value; suppressed</td>
<td>c</td>
</tr>
<tr class="odd">
<td>J / derogation</td>
<td></td>
</tr>
<tr class="even">
<td>S / strike and other special events</td>
<td></td>
</tr>
<tr class="odd">
<td>D / definition differs</td>
<td>d</td>
</tr>
<tr class="even">
<td>I / imputed value</td>
<td></td>
</tr>
<tr class="odd">
<td>F / forecast value</td>
<td>f</td>
</tr>
<tr class="even">
<td>E / estimated value</td>
<td>e; s</td>
</tr>
<tr class="odd">
<td>P / provisional value</td>
<td>p</td>
</tr>
<tr class="even">
<td>N / not significant</td>
<td>n</td>
</tr>
<tr class="odd">
<td>U / low reliability</td>
<td>u</td>
</tr>
<tr class="even">
<td>V / unvalidated value</td>
<td></td>
</tr>
<tr class="odd">
<td>G / experimental value</td>
<td></td>
</tr>
<tr class="even">
<td>A / normal value</td>
<td></td>
</tr>
</tbody>
</table>
<p>In this simplest method, the aggregate inherits all the flags of the underlying data. In case there are several flags for individual values, it takes into account all the flags separately. For example, in the case of the 4<sup>th</sup> observation the flags <em>“de”</em> are taken into account as <em>“d”</em> and as <em>“e”</em> too. The function first creates a unique list of all the flags for a given time period and then the hierarchy, like the one in Table 1, is applied in order to end up with a single flag for the aggregate.</p>
<p>In case there is a flag which is not mentioned in the predefined hierarchy list, then the function returns an error mentioning the missing flag(s). The hierarchical order can be defined as a string or a character vector. The first character of the string/vector has the highest importance and the last character has the lowest significance. The below examples show these different options and how the results change for a different order.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyr)
flags &lt;-<span class="st"> </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/spread.html">spread</a></span>(test_data[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)], <span class="dt">key =</span> time, <span class="dt">value =</span> flags)
<span class="kw"><a href="../reference/propagate_flag.html">propagate_flag</a></span>(flags[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">2</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">ncol</a></span>(flags))],<span class="st">"hierarchy"</span>,<span class="st">"puebscd"</span>)</code></pre></div>
<pre><code>## $`2009-01-01`
## [1] "p"
## 
## $`2010-01-01`
## [1] "p"
## 
## $`2011-01-01`
## [1] "p"
## 
## $`2012-01-01`
## [1] "p"
## 
## $`2013-01-01`
## [1] "p"
## 
## $`2014-01-01`
## [1] "p"
## 
## $`2015-01-01`
## [1] "p"</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/propagate_flag.html">propagate_flag</a></span>(flags[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">2</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">ncol</a></span>(flags))],<span class="st">"hierarchy"</span>,<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"b"</span>,<span class="st">"c"</span>,<span class="st">"d"</span>,<span class="st">"e"</span>,<span class="st">"p"</span>,<span class="st">"s"</span>,<span class="st">"u"</span>))</code></pre></div>
<pre><code>## $`2009-01-01`
## [1] "e"
## 
## $`2010-01-01`
## [1] "b"
## 
## $`2011-01-01`
## [1] "c"
## 
## $`2012-01-01`
## [1] "b"
## 
## $`2013-01-01`
## [1] "b"
## 
## $`2014-01-01`
## [1] "b"
## 
## $`2015-01-01`
## [1] "b"</code></pre>
<p>The advantage of this option is that it is very simple to implement. The disadvantage is that each flag is treated as it had the same importance, independently form the frequency of a given flag in the underlying data set. This negative side effect is shown for the last period in the second example where 1 <em>“b”</em> flag overrules 10 <em>“p”</em> flags.</p>
<ol start="2" style="list-style-type: decimal">
<li>
<code>flag_frequency</code> method</li>
</ol>
<p>In this method the flag of the aggregate is the most common flag in the underlying data. In case there are multiple flags for a single value, all the appearances are counted. For example the <em>“de”</em> flag of the 4<sup>th</sup> observation increases the count of the <em>“d”</em> and <em>“e”</em> flag by one. Finally, if the most frequent flag is not unique (e.g. there are several flags with the same frequency count) then all the flags are listed as a result, as it is the case in the below example.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyr)
flags &lt;-<span class="st"> </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/spread.html">spread</a></span>(test_data[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)], <span class="dt">key =</span> time, <span class="dt">value =</span> flags)
<span class="kw"><a href="../reference/propagate_flag.html">propagate_flag</a></span>(flags[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">2</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">ncol</a></span>(flags))],<span class="st">"frequency"</span>)</code></pre></div>
<pre><code>## $`2009-01-01`
## [1] "p"
## 
## $`2010-01-01`
## [1] "p"
## 
## $`2011-01-01`
## [1] "e"
## 
## $`2012-01-01`
## [1] "e" "u"
## 
## $`2013-01-01`
## [1] "u"
## 
## $`2014-01-01`
## [1] "p"
## 
## $`2015-01-01`
## [1] "p"</code></pre>
<p>This technique corrects for the disadvantage of the first method. The downside of this option is that in many cases the frequency count is not in line with the contribution of the underlying values to the total (e.g. flags assigned to values for small countries have a bigger influence on the flag of the aggregate than the countries’ contribution to the total).</p>
<ol start="3" style="list-style-type: decimal">
<li>
<code>flag_weighted</code> method</li>
</ol>
<p>To address the deficiency of the previous method, the weighted frequency method replaces the simple frequency count with a weighted frequency of flags, where the weight is the contribution of the individual values to the aggregate. After calculating the total values of the weights for each different flags, the aggregate would receive a single flag which has the highest total value if at least a given proportion of the observations have flags. If the aggregate is the sum of the individual values then in mathematical terms this option can be written as follows:</p>
<span class="math display">\[\begin{equation} 
\label{eq:weighted}
F_{agg}=\mathop{\mathrm{arg\,max}}_{\hat{F}\in\,F_i}\mathop{\sum}_{F_i=\hat{F}}X_i  \quad, \quad\quad\text{  if } \quad\quad\quad \frac{{\sum\atop{X_i\in\,D_{\hat{F}}}}X_i}{{\sum\atop{X_i\in\,D}}X_i} \ge T 
\end{equation}\]</span>
<p>Where <span class="math inline">\(F_{agg}\)</span> is the derived flag for the aggregate, <span class="math inline">\(X_i\)</span> the underlying values in the data set of <span class="math inline">\(D\)</span>, <span class="math inline">\(F_i\)</span> are the corresponding flag(s) for each individual data point; <span class="math inline">\(D_{\hat{F}}\)</span> is a the subset of <span class="math inline">\(D\)</span> with flag value <span class="math inline">\(\hat{F}\)</span>, and <span class="math inline">\(T\)</span> is the threshold value. As an initial threshold a value of 0.5 is suggested, meaning that the sum of the weights contributed to the aggregate for the given flag is more than half of the total weights.</p>
<p>The same procedure can be used if the aggregate is a weighted average, index, or quantile. In this case in equation  the individual values (<span class="math inline">\(X_i\)</span>) are replaced by the individual weights used for the calculation of the aggregates.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(tidyr)
flags &lt;-<span class="st"> </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/spread.html">spread</a></span>(test_data[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)], <span class="dt">key =</span> time, <span class="dt">value =</span> flags)
weights &lt;-<span class="st"> </span><span class="kw"><a href="https://tidyr.tidyverse.org/reference/spread.html">spread</a></span>(test_data[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">1</span>, <span class="dv">3</span><span class="op">:</span><span class="dv">4</span>)], <span class="dt">key =</span> time, <span class="dt">value =</span> values)

flags&lt;-flags[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">2</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">ncol</a></span>(flags))]
weights&lt;-weights[, <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="dv">2</span><span class="op">:</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/nrow">ncol</a></span>(weights))]
<span class="kw"><a href="../reference/propagate_flag.html">propagate_flag</a></span>(flags,<span class="st">"weighted"</span>,<span class="dt">flag_weights=</span>weights)</code></pre></div>
<pre><code>## $`2009-01-01`
## $`2009-01-01`[[1]]
## [1] NA
## 
## $`2009-01-01`[[2]]
## [1] NA
## 
## 
## $`2010-01-01`
## $`2010-01-01`[[1]]
## [1] NA
## 
## $`2010-01-01`[[2]]
## [1] NA
## 
## 
## $`2011-01-01`
## $`2011-01-01`[[1]]
## [1] NA
## 
## $`2011-01-01`[[2]]
## [1] NA
## 
## 
## $`2012-01-01`
## $`2012-01-01`[[1]]
## [1] NA
## 
## $`2012-01-01`[[2]]
## [1] NA
## 
## 
## $`2013-01-01`
## $`2013-01-01`[[1]]
## [1] NA
## 
## $`2013-01-01`[[2]]
## [1] NA
## 
## 
## $`2014-01-01`
## $`2014-01-01`[[1]]
## [1] NA
## 
## $`2014-01-01`[[2]]
## [1] NA
## 
## 
## $`2015-01-01`
## $`2015-01-01`[[1]]
## [1] NA
## 
## $`2015-01-01`[[2]]
## [1] NA</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="../reference/propagate_flag.html">propagate_flag</a></span>(flags,<span class="st">"weighted"</span>,<span class="dt">flag_weights=</span>weights,<span class="dt">threshold=</span><span class="fl">0.1</span>)</code></pre></div>
<pre><code>## $`2009-01-01`
## $`2009-01-01`[[1]]
## [1] NA
## 
## $`2009-01-01`[[2]]
## [1] NA
## 
## 
## $`2010-01-01`
## $`2010-01-01`[[1]]
## [1] NA
## 
## $`2010-01-01`[[2]]
## [1] NA
## 
## 
## $`2011-01-01`
## $`2011-01-01`[[1]]
## [1] "e"
## 
## $`2011-01-01`[[2]]
## [1] "0.133211654011488"
## 
## 
## $`2012-01-01`
## $`2012-01-01`[[1]]
## [1] "u"
## 
## $`2012-01-01`[[2]]
## [1] "0.124148695828608"
## 
## 
## $`2013-01-01`
## $`2013-01-01`[[1]]
## [1] NA
## 
## $`2013-01-01`[[2]]
## [1] NA
## 
## 
## $`2014-01-01`
## $`2014-01-01`[[1]]
## [1] "p"
## 
## $`2014-01-01`[[2]]
## [1] "0.174097815337322"
## 
## 
## $`2015-01-01`
## $`2015-01-01`[[1]]
## [1] "p"
## 
## $`2015-01-01`[[2]]
## [1] "0.335586943761588"</code></pre>
<p>As the above examples show this method results in missing value (<code>NA</code>) if the sum of the weights for all the flag is below the limit. When the total is above the threshold, then the maximum of the sum of weights is returned in the results next to the derived flag.</p>
</div>
</div>
<div id="summary" class="section level2">
<h2 class="hasAnchor">
<a href="#summary" class="anchor"></a>Summary</h2>
<p>This paper shows how the <code>propagate_flag</code> function of the <em>flagr</em> package can call different methods to derive flags for aggregates, provides examples and discusses its use cases. For the <em>hierarchy</em> method the ordered list of flags is required as a parameter. For the <em>frequency</em> method no other information is needed outside the individual flags. Finally for the <em>weighted</em> frequencies method the weights are required as input next to the compulsory flags.</p>
<p>Possible extensions of the package in the future:</p>
<ul>
<li>return not just the first flag, but provide a table with further flags in the hierarchy</li>
<li>create a shiny app, which can provide the flags for an uploaded csv file</li>
</ul>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>The <em>spr_exp_sum</em> data table contains data about social protection expenditures in Euro per inhabitant.<a href="#fnref1">↩</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#background">Background</a></li>
      <li><a href="#the-flagr-package">The <em>flagr</em> package</a></li>
      <li><a href="#summary">Summary</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Mátyás Mészáros, Matteo Salvati.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
